{"ast":null,"code":"// components/Sidebar.jsx\nimport{useState,useContext}from'react';import{useNavigate}from'react-router-dom';import{Menu,X,Plus,LogOut,Settings,Sparkles,Sun,Moon}from'lucide-react';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Sidebar(_ref){let{dark,setDark}=_ref;const[isOpen,setIsOpen]=useState(false);const navigate=useNavigate();const{logout}=useContext(AuthContext);const toggleSidebar=()=>setIsOpen(!isOpen);const handleNewChat=()=>{localStorage.removeItem('messages');sessionStorage.removeItem('visited');navigate('/chat?new=true');setIsOpen(false);};const handleLogout=async()=>{try{await logout();localStorage.clear();sessionStorage.clear();navigate('/login');setIsOpen(false);}catch(err){console.error('Logout error:',err);}};const goToSettings=()=>{navigate('/settings');setIsOpen(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden fixed top-4 left-4 z-50\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleSidebar,className:\"bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 p-2 rounded-lg shadow-md text-black dark:text-white\",children:isOpen?/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"}):/*#__PURE__*/_jsx(Menu,{className:\"w-5 h-5\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed md:static top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white dark:bg-zinc-900 border-r border-zinc-200 dark:border-zinc-800 z-40 md:z-auto transform transition-transform duration-300 ease-in-out \".concat(isOpen?'translate-x-0':'-translate-x-full',\" md:translate-x-0 md:block overflow-y-auto\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col p-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleNewChat,className:\"flex items-center gap-2 px-3 py-2 mb-4 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-sm font-medium transition\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\"New Chat\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto mb-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-zinc-500 dark:text-zinc-400 mb-2\",children:\"Recent\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:[...Array(1)].map((_,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-sm cursor-pointer transition\",children:[\"Chat session \",idx+1]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 border-t border-zinc-200 dark:border-zinc-800 pt-3\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition text-sm\",children:[/*#__PURE__*/_jsx(Sparkles,{className:\"w-4 h-4 text-yellow-400\"}),\"Upgrade to Pro\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:goToSettings,className:\"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition text-sm\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4\"}),\"Settings\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"w-full flex items-center gap-2 px-3 py-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-950 rounded-lg transition text-sm\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),\"Logout\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setDark(!dark),className:\"w-full flex items-center gap-2 px-3 py-2 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg transition text-sm\",children:dark?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Sun,{className:\"w-4 h-4 text-yellow-400\"}),\"Light Mode\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Moon,{className:\"w-4 h-4\"}),\"Dark Mode\"]})})]})]})})]});}","map":{"version":3,"names":["useState","useContext","useNavigate","Menu","X","Plus","LogOut","Settings","Sparkles","Sun","Moon","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Sidebar","_ref","dark","setDark","isOpen","setIsOpen","navigate","logout","toggleSidebar","handleNewChat","localStorage","removeItem","sessionStorage","handleLogout","clear","err","console","error","goToSettings","children","className","onClick","concat","Array","map","_","idx"],"sources":["C:/Users/admin/Videos/As13.ai/client/src/components/Sidebar.jsx"],"sourcesContent":["// components/Sidebar.jsx\nimport { useState, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Menu, X, Plus, LogOut, Settings, Sparkles, Sun, Moon,\n} from 'lucide-react';\nimport { AuthContext } from '../context/AuthContext';\n\nexport default function Sidebar({ dark, setDark }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const navigate = useNavigate();\n  const { logout } = useContext(AuthContext);\n\n  const toggleSidebar = () => setIsOpen(!isOpen);\n\n  const handleNewChat = () => {\n    localStorage.removeItem('messages');\n    sessionStorage.removeItem('visited');\n    navigate('/chat?new=true');\n    setIsOpen(false);\n  };\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      localStorage.clear();\n      sessionStorage.clear();\n      navigate('/login');\n      setIsOpen(false);\n    } catch (err) {\n      console.error('Logout error:', err);\n    }\n  };\n\n  const goToSettings = () => {\n    navigate('/settings');\n    setIsOpen(false);\n  };\n\n  return (\n    <>\n      <div className=\"md:hidden fixed top-4 left-4 z-50\">\n        <button\n          onClick={toggleSidebar}\n          className=\"bg-white dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 p-2 rounded-lg shadow-md text-black dark:text-white\"\n        >\n          {isOpen ? <X className=\"w-5 h-5\" /> : <Menu className=\"w-5 h-5\" />}\n        </button>\n      </div>\n\n      <div\n        className={`fixed md:static top-16 left-0 h-[calc(100vh-4rem)] w-64 bg-white dark:bg-zinc-900 border-r border-zinc-200 dark:border-zinc-800 z-40 md:z-auto transform transition-transform duration-300 ease-in-out ${\n          isOpen ? 'translate-x-0' : '-translate-x-full'\n        } md:translate-x-0 md:block overflow-y-auto`}\n      >\n        <div className=\"h-full flex flex-col p-4\">\n          <button\n            onClick={handleNewChat}\n            className=\"flex items-center gap-2 px-3 py-2 mb-4 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-sm font-medium transition\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            New Chat\n          </button>\n\n          <div className=\"flex-1 overflow-y-auto mb-4\">\n            <p className=\"text-sm font-semibold text-zinc-500 dark:text-zinc-400 mb-2\">\n              Recent\n            </p>\n            <div className=\"space-y-2\">\n              {[...Array(1)].map((_, idx) => (\n                <div\n                  key={idx}\n                  className=\"px-3 py-2 rounded-lg bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 text-sm cursor-pointer transition\"\n                >\n                  Chat session {idx + 1}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"space-y-2 border-t border-zinc-200 dark:border-zinc-800 pt-3\">\n            <button className=\"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition text-sm\">\n              <Sparkles className=\"w-4 h-4 text-yellow-400\" />\n              Upgrade to Pro\n            </button>\n\n            <button\n              onClick={goToSettings}\n              className=\"w-full flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-zinc-100 dark:hover:bg-zinc-800 transition text-sm\"\n            >\n              <Settings className=\"w-4 h-4\" />\n              Settings\n            </button>\n\n            <button\n              onClick={handleLogout}\n              className=\"w-full flex items-center gap-2 px-3 py-2 text-red-500 hover:bg-red-100 dark:hover:bg-red-950 rounded-lg transition text-sm\"\n            >\n              <LogOut className=\"w-4 h-4\" />\n              Logout\n            </button>\n\n            <button\n              onClick={() => setDark(!dark)}\n              className=\"w-full flex items-center gap-2 px-3 py-2 bg-zinc-100 dark:bg-zinc-800 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg transition text-sm\"\n            >\n              {dark ? (\n                <>\n                  <Sun className=\"w-4 h-4 text-yellow-400\" />\n                  Light Mode\n                </>\n              ) : (\n                <>\n                  <Moon className=\"w-4 h-4\" />\n                  Dark Mode\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}