{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Videos\\\\df\\\\client\\\\src\\\\components\\\\Chat.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport { marked } from 'marked';\nimport Header from './Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chat() {\n  _s();\n  const [messages, setMessages] = useState(() => {\n    const saved = localStorage.getItem('messages');\n    return saved ? JSON.parse(saved) : [];\n  });\n  const [input, setInput] = useState('');\n  const bottomRef = useRef(null);\n  useEffect(() => {\n    var _bottomRef$current;\n    localStorage.setItem('messages', JSON.stringify(messages));\n    (_bottomRef$current = bottomRef.current) === null || _bottomRef$current === void 0 ? void 0 : _bottomRef$current.scrollIntoView({\n      behavior: 'smooth'\n    });\n  }, [messages]);\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n    const userMsg = {\n      role: 'user',\n      text: input\n    };\n    setMessages(prev => [...prev, userMsg]);\n    setInput('');\n    try {\n      const res = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: input\n        })\n      });\n      const data = await res.json();\n      const aiMsg = {\n        role: 'ai',\n        text: data.reply || 'Sorry, something went wrong.'\n      };\n      setMessages(prev => [...prev, aiMsg]);\n    } catch {\n      setMessages(prev => [...prev, {\n        role: 'ai',\n        text: 'Error: Could not fetch reply.'\n      }]);\n    }\n  };\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-screen dark bg-black text-white\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"flex-1 overflow-y-auto px-4 py-6 sm:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto space-y-4\",\n        children: [messages.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 mt-10\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-3xl font-bold mb-2\",\n            children: \"Where ideas begin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-400\",\n            children: \"Start your conversation below\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `rounded-xl px-4 py-3 whitespace-pre-wrap text-sm sm:text-base leading-relaxed shadow ${msg.role === 'user' ? 'bg-blue-500 text-white self-end ml-auto max-w-[85%]' : 'bg-zinc-800 text-white self-start mr-auto max-w-[85%]'}`,\n          dangerouslySetInnerHTML: {\n            __html: marked.parse(msg.text)\n          }\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: bottomRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-zinc-900 p-4 border-t border-zinc-800\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-2xl mx-auto flex flex-col sm:flex-row gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: 1,\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyDown: handleKeyDown,\n          placeholder: \"Ask me anything...\",\n          className: \"flex-1 resize-none p-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: sendMessage,\n          className: \"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-lg font-medium\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"2krTDeZnBmDMYjF2ZwiJpKTjsS4=\");\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["useState","useEffect","useRef","marked","Header","jsxDEV","_jsxDEV","Chat","_s","messages","setMessages","saved","localStorage","getItem","JSON","parse","input","setInput","bottomRef","_bottomRef$current","setItem","stringify","current","scrollIntoView","behavior","sendMessage","trim","userMsg","role","text","prev","res","fetch","method","headers","body","message","data","json","aiMsg","reply","handleKeyDown","e","key","shiftKey","preventDefault","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","msg","idx","dangerouslySetInnerHTML","__html","ref","rows","value","onChange","target","onKeyDown","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/admin/Videos/df/client/src/components/Chat.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { marked } from 'marked';\nimport Header from './Header';\n\nexport default function Chat() {\n  const [messages, setMessages] = useState(() => {\n    const saved = localStorage.getItem('messages');\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  const [input, setInput] = useState('');\n  const bottomRef = useRef(null);\n\n  useEffect(() => {\n    localStorage.setItem('messages', JSON.stringify(messages));\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  const sendMessage = async () => {\n    if (!input.trim()) return;\n\n    const userMsg = { role: 'user', text: input };\n    setMessages(prev => [...prev, userMsg]);\n    setInput('');\n\n    try {\n      const res = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ message: input }),\n      });\n\n      const data = await res.json();\n      const aiMsg = { role: 'ai', text: data.reply || 'Sorry, something went wrong.' };\n      setMessages(prev => [...prev, aiMsg]);\n    } catch {\n      setMessages(prev => [...prev, { role: 'ai', text: 'Error: Could not fetch reply.' }]);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen dark bg-black text-white\">\n      <Header />\n\n      {/* Chat content area */}\n      <main className=\"flex-1 overflow-y-auto px-4 py-6 sm:px-8\">\n        <div className=\"max-w-2xl mx-auto space-y-4\">\n          {messages.length === 0 && (\n            <div className=\"text-center text-gray-500 mt-10\">\n              <h1 className=\"text-3xl font-bold mb-2\">Where ideas begin</h1>\n              <p className=\"text-gray-400\">Start your conversation below</p>\n            </div>\n          )}\n\n          {messages.map((msg, idx) => (\n            <div\n              key={idx}\n              className={`rounded-xl px-4 py-3 whitespace-pre-wrap text-sm sm:text-base leading-relaxed shadow ${\n                msg.role === 'user'\n                  ? 'bg-blue-500 text-white self-end ml-auto max-w-[85%]'\n                  : 'bg-zinc-800 text-white self-start mr-auto max-w-[85%]'\n              }`}\n              dangerouslySetInnerHTML={{ __html: marked.parse(msg.text) }}\n            />\n          ))}\n          <div ref={bottomRef} />\n        </div>\n      </main>\n\n      {/* Input area */}\n      <div className=\"bg-zinc-900 p-4 border-t border-zinc-800\">\n        <div className=\"max-w-2xl mx-auto flex flex-col sm:flex-row gap-2\">\n          <textarea\n            rows={1}\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyDown={handleKeyDown}\n            placeholder=\"Ask me anything...\"\n            className=\"flex-1 resize-none p-3 rounded-lg bg-zinc-800 border border-zinc-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-600\"\n          />\n          <button\n            onClick={sendMessage}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-5 py-3 rounded-lg font-medium\"\n          >\n            Send\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}